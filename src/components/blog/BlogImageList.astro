---
import type { BlogImageProps } from "@lib/contents/blog";

import BlogImage from "./BlogImage.astro";

interface Props {
  images: BlogImageProps[] | BlogImageProps;
}
const { images, ...globalAttrs } = Astro.props;
// かならずArrayになるように型を操作する
const list = Array.isArray(images) ? images : [images];
---

<div class="image-container">
  {
    list.map((item) => {
      const { src, width, alt, caption, ...attrs } = item;
      return (
        <BlogImage
          src={src}
          width={width}
          alt={alt}
          caption={caption}
          {...attrs}
          {...globalAttrs}
        />
      );
    })
  }
</div>

<style>
  .image-container {
    display: flex;
    flex-wrap: nowrap;
    justify-content: space-around;
    align-items: flex-end;
    @media (max-width: 1024px) {
      flex-direction: column;
    }
  }
</style>
